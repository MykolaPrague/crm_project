{% load i18n %}
{% extends "base.html" %}
{% block content %}
<div class="auth-wrap">
  <article class="auth-card">
    <header style="text-align:center;">
      <span style="font-size:2rem;">üìù</span>
      <h1 style="margin:0">{% trans "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è" %}</h1>
      <p style="margin:0;color:var(--muted-color)">{% trans "–°—Ç–≤–æ—Ä—ñ—Ç—å –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å, —â–æ–± —É–≤—ñ–π—Ç–∏ –¥–æ CRM" %}</p>
    </header>

    {% if form.non_field_errors %}
      <div role="alert" style="margin-top:1rem;">
        {% for err in form.non_field_errors %}
          <p>{{ err }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <form method="post" style="margin-top:1rem;">
      {% csrf_token %}

      <label for="{{ form.username.id_for_label }}">{% trans "–õ–æ–≥—ñ–Ω" %}</label>
      {{ form.username }}
      {% if form.username.errors %}
        <small role="alert">
          {% for e in form.username.errors %}{{ e }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
        </small>
      {% endif %}

      <label for="{{ form.password1.id_for_label }}">{% trans "–ü–∞—Ä–æ–ª—å" %}</label>
      {{ form.password1 }}
      {% if form.password1.help_text %}
        <small>{{ form.password1.help_text|safe }}</small>
      {% endif %}
      {% if form.password1.errors %}
        <small role="alert">
          {% for e in form.password1.errors %}{{ e }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
        </small>
      {% endif %}

      <label for="{{ form.password2.id_for_label }}">{% trans "–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" %}</label>
      {{ form.password2 }}
      {% if form.password2.errors %}
        <small role="alert">
          {% for e in form.password2.errors %}{{ e }}{% if not forloop.last %}<br>{% endif %}{% endfor %}
        </small>
      {% endif %}

      <button type="submit" style="width:100%; margin-top:1rem;">{% trans "–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è" %}</button>
    </form>

    <footer style="margin-top:1rem; text-align:center;">
      <small>{% trans"–í–∂–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç?" %} <a href="{% url 'login' %}">{% trans "–£–≤—ñ–π—Ç–∏" %}</a></small>
    </footer>
  </article>
</div>

<script>
  // –ª–µ–≥–∫—ñ –ø—ñ–¥–∫–∞–∑–∫–∏ —É –ø–æ–ª—è—Ö
  const u = document.getElementById("id_username");
  const p1 = document.getElementById("id_password1");
  const p2 = document.getElementById("id_password2");
  if (u) u.placeholder = "{% trans "–ù–∞–ø—Ä., mykola" %}";
  if (p1) p1.placeholder = "{% trans "–ú—ñ–Ω. 8 —Å–∏–º–≤–æ–ª—ñ–≤" %}";
  if (p2) p2.placeholder = "{% trans "–©–µ —Ä–∞–∑ –ø–∞—Ä–æ–ª—å" %}";
</script>
{% endblock %}
