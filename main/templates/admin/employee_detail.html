{% load i18n %}
{% extends "base.html" %}
{% block content %}
<h1>{% trans "–ö–∞—Ä—Ç–∫–∞ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞" %}</h1>

<article class="grid">
  <div>
    <figure>
      {% if emp.photo %}
        <img src="{{ emp.photo.url }}" alt="–§–æ—Ç–æ" style="max-width:220px;border-radius:12px;">
      {% else %}
        <img src="https://placehold.co/220x220?text=No+Photo" alt="–§–æ—Ç–æ" style="border-radius:12px;">
      {% endif %}
      <figcaption>{{ emp.full_name }}</figcaption>
    </figure>

    <p><strong>{% trans "–û–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å:" %}</strong> {{ emp.user.username }}</p>
    <p><strong>{% trans "–°—Ç–∞—Ç—É—Å:" %}</strong> {% if emp.is_active %}{% trans "–ê–∫—Ç–∏–≤–Ω–∏–π" %}{% else %}{% trans "–ù–µ–∞–∫—Ç–∏–≤–Ω–∏–π" %}{% endif %}</p>
    <p><strong>{% trans "–ü—Ä–æ–≥—É–ª–∏ (–ª—ñ—á–∏–ª—å–Ω–∏–∫):" %}</strong> {{ emp.absences_count }}</p>

    <div style="margin-top:1rem">
      <a href="{% url 'employee_edit' emp.user.id %}" role="button">{% trans "–†–µ–¥–∞–≥—É–≤–∞—Ç–∏" %}</a>
    </div>
  </div>

  <div>
    <h3>{% trans "–û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ" %}</h3>
    <p>
      <strong>{% trans "–Ü–º‚Äô—è:" %}</strong> {{ emp.first_name|default:"‚Äî" }}<br>
      <strong>{% trans "–ü—Ä—ñ–∑–≤–∏—â–µ:" %}</strong> {{ emp.last_name|default:"‚Äî" }}<br>
      <strong>{% trans "–°—Ç–∞—Ç—å:" %}</strong>
      {% if emp.gender == "m" %}{% trans "–ß–æ–ª–æ–≤—ñ—á–∞" %}{% elif emp.gender == "f" %}{% trans "–ñ—ñ–Ω–æ—á–∞" %}{% else %}{% trans "–Ü–Ω—à–µ/–ù–µ –≤–∫–∞–∑–∞–Ω–æ" %}{% endif %}<br>
      <strong>{% trans "–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è:" %}</strong> {{ emp.birth_date|date:"Y-m-d"|default:"‚Äî" }}<br>
      <strong>{% trans "–ú—ñ—Å—Ü–µ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è:" %}</strong> {{ emp.birth_place|default:"‚Äî" }}<br>
      <strong>{% trans "–ê–¥—Ä–µ—Å–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:" %}</strong> {{ emp.registration_address|default:"‚Äî" }}<br>
      <strong>{% trans "–°—ñ–º–µ–π–Ω–∏–π —Å—Ç–∞–Ω:" %}</strong>
      {% if emp.marital_status == "married" %}{% trans "–û–¥—Ä—É–∂–µ–Ω–∏–π/–∑–∞–º—ñ–∂–Ω—è" %}
      {% elif emp.marital_status == "divorced" %}{% trans "–†–æ–∑–ª—É—á–µ–Ω–∏–π/—Ä–æ–∑–ª—É—á–µ–Ω–∞" %}
      {% elif emp.marital_status == "widowed" %}{% trans "–í–¥—ñ–≤–µ—Ü—å/–≤–¥–æ–≤–∞" %}
      {% else %}{% trans "–í—ñ–ª—å–Ω–∏–π/–≤—ñ–ª—å–Ω–∞" %}{% endif %}
    </p>

    <h3>{% trans "–†–æ–±–æ—Ç–∞" %}</h3>
    <p>
      <strong>{% trans "–î–∞—Ç–∞ –ø—Ä–∏–π–æ–º—É:" %}</strong> {{ emp.hire_date|date:"Y-m-d"|default:"‚Äî" }}<br>
      <strong>{% trans "–î–∞—Ç–∞ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è:" %}</strong> {{ emp.termination_date|date:"Y-m-d"|default:"‚Äî" }}
    </p>

    <h3>{% trans "–î–æ–∫—É–º–µ–Ω—Ç–∏" %}</h3>
    <p>
      {% if emp.contract_file %}
        <a href="{{ emp.contract_file.url }}" target="_blank" rel="noopener">{% trans "üìÑ –ö–æ–Ω—Ç—Ä–∞–∫—Ç" %}</a>
      {% else %}{% trans "
        ‚Äî –ù–µ–º–∞—î
      " %}{% endif %}
    </p>
  </div>
</article>

<p style="margin-top:1rem;">
  <a href="{% url 'admin_panel' %}" class="secondary" role="button">{% trans "‚Üê –î–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ" %}</a>
</p>
{% endblock %}
